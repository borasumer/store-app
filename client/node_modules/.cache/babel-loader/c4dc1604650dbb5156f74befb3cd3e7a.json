{"ast":null,"code":"import _objectSpread from \"/Users/Bora/Desktop/store-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/Bora/Desktop/store-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Bora/Desktop/store-app/src/contexts/ProductContext.jsx\";\nimport React, { createContext, useState, useEffect } from 'react';\nimport { storeProducts, detailProduct } from '../data';\nexport const ProductContext = createContext();\n\nconst ProductContextProvider = props => {\n  const _useState = useState(storeProducts),\n        _useState2 = _slicedToArray(_useState, 2),\n        products = _useState2[0],\n        setProducts = _useState2[1];\n\n  const _useState3 = useState(detailProduct),\n        _useState4 = _slicedToArray(_useState3, 2),\n        details = _useState4[0],\n        setDetails = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        cart = _useState6[0],\n        setCart = _useState6[1];\n\n  const _useState7 = useState({\n    cartSubTotal: 0,\n    cartTax: 0,\n    cartTotal: 0\n  }),\n        _useState8 = _slicedToArray(_useState7, 2),\n        cartValue = _useState8[0],\n        setCartValue = _useState8[1];\n\n  useEffect(() => {\n    addTotals();\n  }, [details]);\n\n  const _useState9 = useState({\n    modelProduct: detailProduct,\n    modelOpen: false\n  }),\n        _useState10 = _slicedToArray(_useState9, 2),\n        model = _useState10[0],\n        setModel = _useState10[1];\n\n  let tempProducts = [];\n  storeProducts.forEach(item => {\n    const singleItem = _objectSpread({}, item);\n\n    tempProducts = [...tempProducts, singleItem];\n  }); //! Add Totals\n  // const addTotals = () => {\n  //   let subTotal = 0;\n  //   cart.map(item => (subTotal += item.total));\n  //   const tempTax = subTotal * 0.1;\n  //   const tax = parseFloat(tempTax.toFixed(2));\n  //   const total = subTotal + tax;\n  //   setCartValue({\n  //     cartSubTotal: subTotal,\n  //     cartTax: tax,\n  //     cartTotal: total\n  //   });\n}; //! Increment Func for the Cart\n\n\nconst increment = id => {\n  console.log('this is increment method');\n}; //! Decrement Func for the Cart\n\n\nconst decrement = id => {\n  console.log('this is decrement method');\n}; //! Remove item from the cart\n\n\nconst removeItem = id => {\n  const tempCart = [...cart];\n  const newCart = tempCart.filter(item => item.id !== id);\n  setCart([newCart]);\n  console.log('item removed');\n}; //! Clear cart\n\n\nconst clearCart = () => {\n  console.log(' cart is cleared');\n}; //! openModel Func\n\n\nconst openModel = id => {\n  const product = getItem(id);\n  setModel({\n    modelOpen: true,\n    modelProduct: product\n  });\n}; //! closeModel Func\n\n\nconst closeModel = () => {\n  setModel({\n    modelOpen: false,\n    modelProduct: detailProduct\n  });\n}; //! addCart Func\n\n\nconst addCart = (id, addTotals) => {\n  let tempProducts = [...products];\n  const index = tempProducts.indexOf(getItem(id));\n  const product = tempProducts[index];\n  product.inCart = true;\n  product.count = 1;\n  const price = product.price;\n  product.total = price;\n  setProducts(tempProducts);\n  setCart([...cart, product]);\n\n  addTotals = () => {\n    let subTotal = 0;\n    cart.map(item => subTotal += item.total);\n    const tempTax = subTotal * 0.1;\n    const tax = parseFloat(tempTax.toFixed(2));\n    const total = subTotal + tax;\n    setCartValue({\n      cartSubTotal: subTotal,\n      cartTax: tax,\n      cartTotal: total\n    });\n  }; //! getItem Func - called in the handleDetails Func\n\n\n  const getItem = id => {\n    const product = products.find(item => item.id === id);\n    return product;\n  }; //! handleDetails Func\n\n\n  const handleDetails = id => {\n    const product = getItem(id);\n    setDetails(product); //console.log(product);\n  };\n\n  return React.createElement(ProductContext.Provider, {\n    value: {\n      products,\n      cart,\n      details,\n      addCart,\n      handleDetails,\n      model,\n      openModel,\n      closeModel,\n      increment,\n      decrement,\n      removeItem,\n      clearCart,\n      cartValue,\n      addTotals\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, props.children);\n};\n\nexport default ProductContextProvider;","map":{"version":3,"sources":["/Users/Bora/Desktop/store-app/src/contexts/ProductContext.jsx"],"names":["React","createContext","useState","useEffect","storeProducts","detailProduct","ProductContext","ProductContextProvider","props","products","setProducts","details","setDetails","cart","setCart","cartSubTotal","cartTax","cartTotal","cartValue","setCartValue","addTotals","modelProduct","modelOpen","model","setModel","tempProducts","forEach","item","singleItem","increment","id","console","log","decrement","removeItem","tempCart","newCart","filter","clearCart","openModel","product","getItem","closeModel","addCart","index","indexOf","inCart","count","price","total","subTotal","map","tempTax","tax","parseFloat","toFixed","find","handleDetails","children"],"mappings":"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","sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\nimport { storeProducts, detailProduct } from '../data';\n\nexport const ProductContext = createContext();\n\nconst ProductContextProvider = (props) => {\n  const [products, setProducts] = useState(storeProducts);\n  const [details, setDetails] = useState(detailProduct);\n  const [cart, setCart] = useState([]);\n  const [cartValue, setCartValue] = useState({\n    cartSubTotal: 0,\n    cartTax: 0,\n    cartTotal: 0\n  });\n\n  useEffect(() => {\n    addTotals();\n  }, [details]);\n\n  const [model, setModel] = useState({\n    modelProduct: detailProduct,\n    modelOpen: false\n  });\n\n  let tempProducts = [];\n\n  storeProducts.forEach(item => {\n    const singleItem = { ...item };\n    tempProducts = [...tempProducts, singleItem];\n  });\n  //! Add Totals\n  // const addTotals = () => {\n  //   let subTotal = 0;\n  //   cart.map(item => (subTotal += item.total));\n  //   const tempTax = subTotal * 0.1;\n  //   const tax = parseFloat(tempTax.toFixed(2));\n  //   const total = subTotal + tax;\n  //   setCartValue({\n  //     cartSubTotal: subTotal,\n  //     cartTax: tax,\n  //     cartTotal: total\n  //   });\n}\n//! Increment Func for the Cart\nconst increment = (id) => {\n  console.log('this is increment method');\n}\n//! Decrement Func for the Cart\nconst decrement = (id) => {\n  console.log('this is decrement method');\n}\n//! Remove item from the cart\nconst removeItem = (id) => {\n  const tempCart = [...cart];\n  const newCart = tempCart.filter(item => item.id !== id);\n  setCart([newCart]);\n  console.log('item removed')\n}\n//! Clear cart\nconst clearCart = () => {\n  console.log(' cart is cleared');\n}\n//! openModel Func\nconst openModel = (id) => {\n  const product = getItem(id);\n  setModel({\n    modelOpen: true,\n    modelProduct: product\n  });\n}\n//! closeModel Func\nconst closeModel = () => {\n  setModel({\n    modelOpen: false,\n    modelProduct: detailProduct\n  })\n}\n//! addCart Func\nconst addCart = (id, addTotals) => {\n  let tempProducts = [...products];\n  const index = tempProducts.indexOf(getItem(id));\n  const product = tempProducts[index];\n  product.inCart = true;\n  product.count = 1;\n  const price = product.price;\n  product.total = price;\n  setProducts(tempProducts);\n  setCart([...cart, product]);\n  addTotals = () => {\n    let subTotal = 0;\n    cart.map(item => (subTotal += item.total));\n    const tempTax = subTotal * 0.1;\n    const tax = parseFloat(tempTax.toFixed(2));\n    const total = subTotal + tax;\n    setCartValue({\n      cartSubTotal: subTotal,\n      cartTax: tax,\n      cartTotal: total\n    });\n\n  }\n\n  //! getItem Func - called in the handleDetails Func\n  const getItem = (id) => {\n    const product = products.find(item => item.id === id);\n    return product;\n  }\n  //! handleDetails Func\n  const handleDetails = (id) => {\n    const product = getItem(id);\n    setDetails(product);\n    //console.log(product);\n  }\n\n\n  return (\n    <ProductContext.Provider value={{ products, cart, details, addCart, handleDetails, model, openModel, closeModel, increment, decrement, removeItem, clearCart, cartValue, addTotals }}>\n      {props.children}\n    </ProductContext.Provider>\n  );\n}\n\nexport default ProductContextProvider;"]},"metadata":{},"sourceType":"module"}